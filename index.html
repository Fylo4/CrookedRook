<!DOCTYPE html>
<html>
<head>
    <script src="Squareset.js"></script>
    <script src="Constants.js"></script>
    <script src="bnb_ep_init.js"></script>
    <script src="start_game.js"></script>
    <script src="render.js"></script>
    <script src="make_move.js"></script>
    <script src="refresh_moves.js"></script>
    <script src="style_data.js"></script>
    <script src="init.js"></script>
    <script src="random.js"></script>

    <script src="boards/CCIT/Cannon.js"></script>
    <script src="boards/CCIT/No Step On Snek.js"></script>
    <script src="boards/CCIT/Kitchen.js"></script>
    <script src="boards/CCIT/LeapyMakruk.js"></script>
    <script src="boards/CCIT/Honey Rush.js"></script>
    <script src="boards/CCIT/Segiztas Peak.js"></script>

    <script src="boards/Chess/Chess.js"></script>
    <script src="boards/Chess/Chess5040.js"></script>

    <script src="boards/Historical/Chaturanga.js"></script>
    <script src="boards/Historical/Courier Chess.js"></script>
    <script src="boards/Historical/Courier Chess Start.js"></script>
    <script src="boards/Historical/Grant Acedrex.js"></script>

    <script src="boards/Xiangqi/Xiangqi.js"></script>
    <script src="boards/Xiangqi/MiniXiangqi.js"></script>
    <script src="boards/Xiangqi/Manchu Chess.js"></script>

    <script src="boards/Shogi/Shogi.js"></script>
    <script src="boards/Shogi/Heian Shogi.js"></script>
    <script src="boards/Shogi/Sho Shogi.js"></script>
    <script src="boards/Shogi/Micro Shogi.js"></script>
    
    <script src="boards/Compound Chess/Bird's Chess.js"></script>
    <script src="boards/Compound Chess/Carrera's Chess.js"></script>
    <script src="boards/Compound Chess/Capablanca Chess.js"></script>
    <script src="boards/Compound Chess/Gothic Chess.js"></script>
    <script src="boards/Compound Chess/Embassy Chess.js"></script>
    <script src="boards/Compound Chess/Compound Shuffle Chess.js"></script>

    <title>The Crooked Rook</title>
    <link rel="icon" href="icon.png">
    <style>
        p {
            margin-top: 8px;
            margin-bottom: 8px;
        }
        table, th, td {
            border:1px solid black;
            text-align:center;
        }
        table {
            width:80%;
        }
        th {
            width:25%;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div style="width: 100%; overflow:auto;">
        <div style="width: 50%; float: left;">
            <p><b style="font-size: 30px">The Crooked Rook</b>Pre-Release 0.2.4</p>
        </div>
        <div style="width: max-content; float: right;">
            <p id="name_p">Name:</p>
            <input id="name_input"/>
            <button onclick="set_name()">Change</button>
            <br />
        </div>
    </div>
    <button onclick="board_page()">Board</button>
    <button onclick="lobby_page()">Lobby</button>
    <br /> <br />

    <div id="lobby_section">
        <table id="lobby_table">
            <tr>
                <th>Board Name</th>
                <th>Creator</th>
                <th>Creator's Color</th>
                <th>Join</th>
            </tr>
        </table>
        <br />
        <label for="board_name">Board Name:</label>
        <input id="board_name">
        <label for="color_sel">Play as:</label>
        <select id="color_sel">
            <option value="r">Random</option>
            <option value="w">White</option>
            <option value="b">Black</option>
        </select>
        <button onclick="add_lobby()">Start Room</button>
    </div>
    
    <div id="board_section">
        <div id="choose_section">
            <label>Choose Variant: </label>
            <select id="categoryField" onchange="add_files_to_dropdown()">
                <option value="0">Chess</option>
                <option value="1">Shogi</option>
                <option value="2">Xiangqi</option>
                <option value="3">Historical</option>
                <!--<option value="4">Regional</option>-->
                <option value="5">CCIT</option>
                <option value="6">Compound</option>
                <option value="7">Other</option>
                <option value="-1">From File</option>
            </select>
            <select id="variantField" name="variantField"></select>
            <input type="file" id="variant_file" style="display: none" accept=".json"/>
            <button onclick="load_variant();">Load</button>
            <br /> <br />
        </div>
        <button onclick="document.getElementById('history').value = export_history();">Export History</button>
        <button onclick="view_move = 0; import_history_firebase(document.getElementById('history').value); render_board();">Import History</button>
        <input id="history" />
        <br />

        <h2 id="board_name_header">Board Name</h2>
        <p id="board_description_header">Board Description</p>
        <button onClick="change_zoom(1);  render_board();">+</button>
        <button onClick="change_zoom(-1); render_board();">-</button>
        <button onClick="style_data.flip_board ^= 1; render_board()">Flip</button>
        <button onClick="style_data.name_squares ^= 1; render_board()">Square Names</button>
        <!-- <button onClick="">End turn</button> -->
        <br /> <br />
        <p id="multiplayer_label">Mode: Single-player</p>
        <p id="top_player_label"></p>
        <canvas id="board_canvas" width="400" height="0" onClick="temp_data.mouse_pressed = 1"></canvas>
        <p id="bottom_player_label"></p>
        <p id="turn_indicator">Turn: N/A</p>
        <button id="resign_btn" onclick="resign()" style="display: none;">Resign</button>
        <br />

        <button onclick="up_arrow_click();">&uarr;</button>
        <button onclick="left_arrow_click();">&larr;</button>
        <button onclick="right_arrow_click();">&rarr;</button>
        <button onclick="down_arrow_click();">&darr;</button>
        <div id="move_history"></div>
        <p>If you see blank spaces when loading a board, move your mouse on the canvas and it should reload</p>
    </div>

    <div id="imageDiv" style="Display: none"></div>
    <canvas id="blend_canvas" style="Display: none" width="400" height="400"></canvas>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <script>
        // Import the functions you need from the SDKs you need
        // import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.2/firebase-app.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBBbEUHGhTCavfixQmyBqMOEhJ-s9xfbsU",
            authDomain: "crooked-rook.firebaseapp.com",
            databaseURL: "https://crooked-rook-default-rtdb.firebaseio.com",
            projectId: "crooked-rook",
            storageBucket: "crooked-rook.appspot.com",
            messagingSenderId: "612890880400",
            appId: "1:612890880400:web:bf191526f0789a2ade2b15"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
    </script>
    <script src="firebase-code.js"></script>
    <script>page_init()</script>
</body>
</html>